autointent.metrics.retrieval_map_macro
======================================

.. py:function:: autointent.metrics.retrieval_map_macro(query_labels, candidates_labels, k = None)

   Calculate the mean average precision at position k for the intersecting labels.

   This function internally uses :func:`retrieval_map` to calculate the MAP for each query and
   performs macro-averaging across multiple queries.

   :param query_labels: For each query, this list contains its class labels
   :param candidates_labels: For each query, these lists contain class labels of items ranked by a retrieval model
    (from most to least relevant)
   :param k: Number of top items to consider for each query
   :return: Score of the retrieval metric

